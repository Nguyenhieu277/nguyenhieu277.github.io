---
title: "RAG - á»¨ng Dá»¥ng Truy Xuáº¥t Tri Thá»©c Äá»ƒ Cáº£i Thiá»‡n MÃ´ HÃ¬nh Sinh VÄƒn Báº£n"
date: 2025-03-11 00:00:00  + 0800
categories: ["NLP"]
tags: ["AI"]
author: hieu
---
---

HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n cÃ³ má»™t con chatbot bÃ¬nh thÆ°á»ng, há»i gÃ¬ tráº£ lá»i náº¥y. NhÆ°ng khi báº¡n há»i nÃ³:

Hiáº¿uğŸ§‘: _"CÃ¡ch náº¥u bÃºn máº¯m chuáº©n miá»n TÃ¢y?"_  
Bot ğŸ¤–: _"TÃ´i khÃ´ng biáº¿t, nhÆ°ng tÃ´i cÃ³ thá»ƒ táº¡o má»™t cÃ´ng thá»©c ngáº«u nhiÃªn cho báº¡n!"_


BÃ¢y giá», náº¿u chatbot dÃ¹ng **RAG (Retrieval-Augmented Generation)**, nÃ³ sáº½ thÃ´ng minh hÆ¡n:

Hiáº¿uğŸ§‘: _"CÃ¡ch náº¥u bÃºn máº¯m chuáº©n miá»n TÃ¢y?"_  
Bot ğŸ¤– (báº¯t Ä‘áº§u tra cá»©u tá»« tÃ i liá»‡u cháº¥t lÆ°á»£ng):  
*"Theo sÃ¡ch _BÃ­ kÃ­p gia truyá»n cá»§a bÃ  ngoáº¡i_, Ä‘á»ƒ cÃ³ tÃ´ bÃºn máº¯m chuáº©n vá»‹, báº¡n cáº§n:

ğŸ‘¨â€ğŸ³ **CÃ¡ch náº¥u:**  
1ï¸âƒ£ **Náº¥u nÆ°á»›c lÃ¨o:** Náº¥u máº¯m cÃ¡ vá»›i nÆ°á»›c, lá»c bá» xÃ¡c Ä‘á»ƒ cÃ³ nÆ°á»›c lÃ¨o Ä‘áº­m Ä‘Ã .  
2ï¸âƒ£ **XÃ o sáº£, tá»i:** Phi thÆ¡m lÃªn rá»“i bá» nÆ°á»›c lÃ¨o vÃ´, cho thÃªm nÆ°á»›c dá»«a tÆ°Æ¡i cho ngá»t.  
3ï¸âƒ£ **Tháº£ topping:** Cho tÃ´m, má»±c, heo quay, cÃ  tÃ­m vÃ o ná»“i. NÃªm náº¿m cho há»£p kháº©u vá»‹.  
4ï¸âƒ£ **Ä‚n thÃ´i:** Bá» bÃºn vÃ´ tÃ´, chan nÆ°á»›c lÃ¨o, thÃªm topping, rau sá»‘ng. ThÃªm tÃ­ á»›t cháº¥m máº¯m me lÃ  háº¿t bÃ i!

**RAG Ä‘Ã£ biáº¿n chatbot tá»« "há»i gÃ¬ cÅ©ng khÃ´ng biáº¿t" thÃ nh má»™t "bÃ  ngoáº¡i online" giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» liÃªn quan**!


## Tá»•ng quan vá» RAG
-   **Retrieval-Augmented Generation (RAG)** lÃ  má»™t ká»¹ thuáº­t giÃºp nÃ¢ng cao kháº£ nÄƒng cá»§a mÃ´ hÃ¬nh sinh (language model generation) káº¿t há»£p vá»›i tri thá»©c bÃªn ngoÃ i (external knowledge).

-   PhÆ°Æ¡ng phÃ¡p nÃ y thá»±c hiá»‡n báº±ng cÃ¡ch truy xuáº¥t thÃ´ng tin liÃªn quan tá»« kho tÃ i liá»‡u (tri thá»©c) vÃ  sá»­ dá»¥ng chÃºng cho quÃ¡ trÃ¬nh sinh cÃ¢u tráº£ lá»i dá»±a trÃªn LLMs.


## RAG Ä‘Ã£ ná»•i lÃªn nhÆ° tháº¿ nÃ o?

- Vá»›i sá»± ra Ä‘á»i cá»§a nhá»¯ng mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n nhÆ° GPT, BERT, etc. Máº·c dÃ¹ giáº£i quyáº¿t Ä‘Æ°á»£c nhá»¯ng váº¥n Ä‘á» khÃ¡c nhau nhÆ°ng cÃ¡c mÃ´ hÃ¬nh LLMs váº«n gáº·p váº¥n Ä‘á» vá» "áº£o giÃ¡c" (hallucination), cÃ¡c mÃ´ hÃ¬nh sinh ra cÃ¢u tráº£ lá»i má»™t cÃ¡ch mÆ¡ há»“ vÃ  Ä‘á»™ chÃ­nh xÃ¡c ráº¥t tháº¥p.

- BÃªn cáº¡nh Ä‘Ã³, nhá»¯ng doanh nghiá»‡p hay trÆ°á»ng há»c cÃ³ nhá»¯ng tÃ i liá»‡u ná»™i bá»™ thÃ¬ viá»‡c cÃ¡c LLMs tráº£ lá»i má»™t cÃ¡ch chÃ­nh xÃ¡c thÃ¬ gáº§n nhÆ° lÃ  khÃ´ng thá»ƒ.

- PhÆ°Æ¡ng phÃ¡p **Retrieval-Augmented Generation (RAG)** Ä‘Æ°á»£c phÃ¡t triá»ƒn nháº±m kháº¯c phá»¥c cÃ¡c háº¡n cháº¿ cá»§a LLMs. CÃ¡ch tiáº¿p cáº­n nÃ y bao gá»“m viá»‡c táº¡o má»™t chá»‰ má»¥c cho tá»«ng Ä‘oáº¡n vÄƒn trong tÃ i liá»‡u. Khi nháº­n Ä‘Æ°á»£c truy váº¥n, há»‡ thá»‘ng sáº½ tÃ¬m kiáº¿m vÃ  trÃ­ch xuáº¥t cÃ¡c Ä‘oáº¡n vÄƒn cÃ³ Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng, sau Ä‘Ã³ chuyá»ƒn chÃºng vÃ o mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n Ä‘á»ƒ táº¡o pháº£n há»“i. Báº±ng cÃ¡ch nÃ y, chá»‰ nhá»¯ng thÃ´ng tin quan trá»ng má»›i Ä‘Æ°á»£c cung cáº¥p thay vÃ¬ toÃ n bá»™ tÃ i liá»‡u, giÃºp giáº£m táº£i cho LLMs vÃ  nÃ¢ng cao cháº¥t lÆ°á»£ng ná»™i dung sinh ra.

## Cáº¥u trÃºc cÆ¡ báº£n cá»§a RAG
![Cáº¥u trÃºc RAG](../image/RAG-1.png)
Äá»ƒ táº­n dá»¥ng Ä‘Æ°á»£c nguá»“n dá»¯ liá»‡u do cÃ¡c há»‡ thá»‘ng LLMs cung cáº¥p vÃ  thÃ´ng tin, dá»¯ liá»‡u bá»• sung trong ngá»¯ cáº£nh cá»¥ thá»ƒ giÃºp má»Ÿ rá»™ng vÃ  nÃ¢ng cao cháº¥t lÆ°á»£ng tri thá»©c LLMs má»™t cÃ¡ch hiá»‡u quáº£ báº±ng cÃ¡ch sá»­ dá»¥ng RAG. 

QuÃ¡ trÃ¬nh Ä‘áº§u tiÃªn Ä‘á»ƒ cÃ³ thá»ƒ xÃ¢y má»™t chatbot Ã¡p dá»¥ng phÆ°Æ¡ng phÃ¡p RAG Ä‘Ã³ lÃ  **Indexing**. **Indexing** lÃ  quÃ¡ trÃ¬nh tá»• chá»©c, tá»‘i Æ°u hoÃ¡ vÃ  chuáº©n bá»‹ dá»¯ liá»‡u Ä‘á»ƒ há»— trá»£ truy xuáº¥t hiá»‡u quáº£.

Báº¯t Ä‘áº§u vá»›i viá»‡c thu tháº­p dá»¯ liá»‡u tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u ná»™i bá»™. Sau khi tiá»n xá»­ lÃ­ dá»¯ liá»‡u, Ä‘áº¿n vá»›i viá»‡c chia nhá» cÃ¡c Ä‘oáº¡n vÄƒn báº£n (chunks) sao cho phÃ¹ há»£p vá»›i giá»›i háº¡n cá»§a LLMs

CÃ¡c Ä‘oáº¡n vÄƒn báº£n nÃ y chuyá»ƒn thÃ nh dáº¡ng vector báº±ng cÃ¡ch Embedding thÃ´ng qua cÃ¡c mÃ´ hÃ¬nh nhÆ° GPT, BERT, etc. giÃºp há»‡ thá»‘ng hiá»ƒu vÃ  truy xuáº¥t dá»±a trÃªn ngá»¯ nghÄ©a.

![vector database](../image/RAG-2.png)

BÆ°á»›c tiáº¿p theo ta xÃ¢y dá»±ng truy váº¥n Ä‘á»ƒ Chatbot cÃ³ thá»ƒ truy váº¥n dá»¯ liá»‡u liÃªn quan Ä‘áº¿n cÃ¢u há»i cá»§a ngÆ°á»i dÃ¹ng. Khi ngÆ°á»i dÃ¹ng Ä‘áº·t cÃ¢u há»i thÃ¬ há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng chuyá»ƒn cÃ¢u há»i thÃ nh dáº¡ng vector tÆ°Æ¡ng tá»± Ä‘á»‘i vá»›i cÃ¡c Ä‘oáº¡n vÄƒn báº£n trong database. Sau Ä‘Ã³, vector cÃ¢u há»i Ä‘Æ°á»£c tÃ­nh toÃ¡n Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng vá»›i tá»«ng vector trong database báº±ng **Consine Similarity** 

![cosine similarity](../image/RAG-3.png)


BÆ°á»›c tiáº¿p theo, ta Ä‘Æ°a cÃ¡c vector cÃ³ Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng cao vÃ  prompt cá»§a ngÆ°á»i dÃ¹ng qua mÃ´ hÃ¬nh ngÃ´n ngá»¯ nhÆ° GPT, BERT, etc. Ä‘á»ƒ sinh cÃ¢u tráº£ lá»i má»™t cÃ¡ch máº¡ch láº¡c.
## CÃ¡c váº¥n Ä‘á» vá»›i RAG
### 1. Cháº¥t lÆ°á»£ng cá»§a dá»¯ liá»‡u truy xuáº¥t
- Náº¿u há»‡ thá»‘ng truy xuáº¥t dá»¯ liá»‡u khÃ´ng thá»ƒ tÃ¬m tháº¥y dá»¯ liá»‡u phÃ¹ há»£p hay tÃ¬m tháº¥y dá»¯ liá»‡u sai lá»‡ch, mÃ´ hÃ¬nh cÃ³ thá»ƒ sinh ra káº¿t quáº£ khÃ´ng chÃ­nh xÃ¡c
- Dá»¯ liá»‡u nguá»“n cÃ³ thá»ƒ cÃ³ thá»ƒ chá»©a thÃ´ng tin khÃ´ng chÃ­nh xÃ¡c, áº£nh hÆ°á»Ÿng Ä‘áº¿n cháº¥t lÆ°á»£ng Ä‘áº§u ra cá»§a mÃ´ hÃ¬nh.

### 2. Tá»‘c Ä‘á»™ vÃ  hiá»‡u suáº¥t
- QuÃ¡ trÃ¬nh truy xuáº¥t dá»¯ liá»‡u tá»« kho dá»¯ liá»‡u cÃ³ thá»ƒ lÃ m cháº­m tá»‘c Ä‘á»™ pháº£n há»“i so vá»›i mÃ´ hÃ¬nh sinh Ä‘Æ¡n thuáº§n.
- Khi lÆ°á»£ng dá»¯ liá»‡u lá»›n, viá»‡c tÃ¬m kiáº¿m thÃ´ng tin phÃ¹ há»£p cÃ³ thá»ƒ gÃ¢y ra Ä‘á»™ trá»… cao.
### 3. Váº¥n Ä‘á» vá» káº¿t há»£p thÃ´ng tin (Fusion Problem)
- Khi truy xuáº¥t nhiá»u tÃ i liá»‡u, mÃ´ hÃ¬nh cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn trong viá»‡c tá»•ng há»£p vÃ  chá»n lá»c thÃ´ng tin phÃ¹ há»£p Ä‘á»ƒ táº¡o ra cÃ¢u tráº£ lá»i há»£p lÃ½.
- Dá»¯ liá»‡u truy xuáº¥t cÃ³ thá»ƒ mÃ¢u thuáº«n, gÃ¢y khÃ³ khÄƒn trong viá»‡c chá»n lá»±a thÃ´ng tin Ä‘Ã¡ng tin cáº­y.
### 4. Báº£o máº­t vÃ  quyá»n riÃªng tÆ°
- Náº¿u kho dá»¯ liá»‡u chá»©a thÃ´ng tin nháº¡y cáº£m, viá»‡c sá»­ dá»¥ng RAG cÃ³ thá»ƒ dáº«n Ä‘áº¿n rÃ² rá»‰ dá»¯ liá»‡u.
- Há»‡ thá»‘ng cÃ³ thá»ƒ truy xuáº¥t thÃ´ng tin khÃ´ng nÃªn Ä‘Æ°á»£c tiáº¿t lá»™, gÃ¢y ra rá»§i ro báº£o máº­t.
### 5. Hiá»‡u á»©ng Hallucination (áº¢o giÃ¡c thÃ´ng tin)
 Máº·c dÃ¹ RAG Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ giáº£m hiá»‡n tÆ°á»£ng hallucination (sinh thÃ´ng tin sai), nhÆ°ng náº¿u thÃ´ng tin truy xuáº¥t khÃ´ng Ä‘á»§ chÃ­nh xÃ¡c, mÃ´ hÃ¬nh váº«n cÃ³ thá»ƒ tá»± "bá»‹a" thÃªm thÃ´ng tin khÃ´ng cÃ³ trong tÃ i liá»‡u gá»‘c.
### 6. Äá»™ phá»¥ thuá»™c vÃ o há»‡ thá»‘ng truy xuáº¥t
- Náº¿u há»‡ thá»‘ng truy xuáº¥t khÃ´ng Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a tá»‘t (vÃ­ dá»¥: thiáº¿u chiáº¿n lÆ°á»£c ranking hiá»‡u quáº£, index khÃ´ng Ä‘áº§y Ä‘á»§), mÃ´ hÃ¬nh cÃ³ thá»ƒ khÃ´ng láº¥y Ä‘Æ°á»£c dá»¯ liá»‡u phÃ¹ há»£p.
- Náº¿u truy xuáº¥t tháº¥t báº¡i hoáº·c khÃ´ng cÃ³ dá»¯ liá»‡u, mÃ´ hÃ¬nh cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn trong viá»‡c táº¡o ra cÃ¢u tráº£ lá»i há»£p lÃ½.
### 7. Kháº£ nÄƒng cáº­p nháº­t kiáº¿n thá»©c
- RAG giÃºp mÃ´ hÃ¬nh cáº­p nháº­t thÃ´ng tin mÃ  khÃ´ng cáº§n huáº¥n luyá»‡n láº¡i, nhÆ°ng náº¿u kho dá»¯ liá»‡u khÃ´ng Ä‘Æ°á»£c cáº­p nháº­t thÆ°á»ng xuyÃªn, há»‡ thá»‘ng váº«n cÃ³ thá»ƒ tráº£ lá»i báº±ng thÃ´ng tin cÅ©.
- Náº¿u dá»¯ liá»‡u má»›i chÆ°a Ä‘Æ°á»£c index hoáº·c chÆ°a Ä‘Æ°á»£c xá»­ lÃ½ Ä‘Ãºng cÃ¡ch, mÃ´ hÃ¬nh cÃ³ thá»ƒ bá» lá»¡ cÃ¡c thÃ´ng tin quan trá»ng.


## XÃ¢y dá»±ng chatbot Ä‘Æ¡n giáº£n vá»›i RAG
### BÆ°á»›c 1: Load model tá»« Huggingface 

```python
import torch
from transformers import AutoTokenizer, AutoModelForCausalLM, AutoConfig,pipeline,BitsAndBytesConfig

model_path="vilm/vinallama-2.7b-chat"

# Setup tokenizer
tokenizer = AutoTokenizer.from_pretrained(model_path, trust_remote_code=True, token = token)


# Seting config
config = AutoConfig.from_pretrained(model_path, trust_remote_code=True, token = token)
config.init_device = "cuda"
config.temperature = 0.1

bnb_config = BitsAndBytesConfig(
                                load_in_4bit=True,
                                bnb_4bit_use_double_quant=True,
                                bnb_4bit_quant_type="nf4",
                                bnb_4bit_compute_dtype=torch.bfloat16,
                               )


model = AutoModelForCausalLM.from_pretrained(
    model_path,quantization_config=bnb_config,
    config=config,
    trust_remote_code=True,
    token = token
)

```
á» Ä‘Ã¢y ta quantization vinallama giÃºp model nháº¹ hÆ¡n. Báº¡n cÃ³ thá»ƒ tham kháº£o nhá»¯ng model khÃ¡c trÃªn huggingface

### BÆ°á»›c 2: Chia nhá» Ä‘oáº¡n vÄƒn báº£n (Chunks)

```python
from langchain.text_splitter import CharacterTextSplitter
def get_text_chunks(text):
    text_splitter = CharacterTextSplitter(
        separator="\n",
        chunk_size=1000,
        chunk_overlap=200,
        length_function=len
    )
    chunks = text_splitter.split_text(text)
    return chunks
```

### BÆ°á»›c 3: Táº¡o vector database

```python
from langchain.vectorstores import FAISS
from langchain.embeddings import OpenAIEmbeddings, HuggingFaceInstructEmbeddings, HuggingFaceEmbeddings
from langchain.embeddings import OpenAIEmbeddings, HuggingFaceInstructEmbeddings, GPT4AllEmbeddings
from langchain.vectorstores import FAISS
embeddings = GPT4AllEmbeddings()

raw_text = """

NgÃ y 22/12, Ä‘áº¡i diá»‡n BCH CÃ´ng Ä‘oÃ n cÆ¡ sá»Ÿ SHB Ä‘Ã£ Ä‘áº¿n thÄƒm há»i, Ä‘á»™ng viÃªn vÃ  trao quÃ  cho gia Ä‘Ã¬nh chá»‹ Pháº¡m Thá»‹ Mai - SHB TTKD - CBNV cÃ³ hoÃ n cáº£nh Ä‘áº·c biá»‡t. ÄÃ¢y cÅ©ng lÃ  má»™t trong nhá»¯ng truyá»n thá»‘ng tá»‘t Ä‘áº¹p cá»§a ngÆ°á»i SHB, luÃ´n sáºµn sÃ ng giÃºp Ä‘á»¡ Ä‘á»“ng nghiá»‡p khÃ´ng may gáº·p khÃ³ khÄƒn trong cuá»™c sá»‘ng.
ThÃ¡ng 5/2023 vá»«a qua, chÃ¡u Nguyá»…n Báº£o NguyÃªn - con trai chá»‹ Pháº¡m Thá»‹ Mai, Kiá»ƒm soÃ¡t viÃªn táº¡i SHB TTKD, trÃªn Ä‘Æ°á»ng Ä‘i há»c vá» khÃ´ng may bá»‹ thanh sáº¯t tá»« cÃ´ng trÆ°á»ng Ä‘ang thi cÃ´ng rÆ¡i xuá»‘ng Ä‘áº§u gÃ¢y cháº¥n thÆ°Æ¡ng sá» nÃ£o vÃ  giÃ¡m Ä‘á»‹nh thÆ°Æ¡ng táº­t lÃ  49% (Theo Ä‘Ã¡nh giÃ¡ cá»§a viá»‡n khoa há»c hÃ¬nh sá»±). Tráº£i qua 02 ca pháº«u thuáº­t Ä‘á»ƒ ghÃ©p xÆ°Æ¡ng sá» nhÃ¢n táº¡o, sá»©c khá»e chÃ¡u NguyÃªn váº«n chÆ°a á»•n Ä‘á»‹nh, áº£nh hÆ°á»Ÿng Ä‘áº¿n tÃ¬nh hÃ¬nh há»c táº­p vÃ  váº¥n Ä‘á» tá»± sinh hoáº¡t cÃ¡ nhÃ¢n. Chá»‹ Mai cÅ©ng lÃ  máº¹ Ä‘Æ¡n thÃ¢n vÃ  trá»¥ cá»™t kinh táº¿ chÃ­nh trong gia Ä‘Ã¬nh nÃªn cuá»™c sá»‘ng ráº¥t khÃ³ khÄƒn vÃ  váº¥t váº£.



Em Nguyá»…n VÄƒn H lÃ  há»c sinh cÃ¡ biá»‡t trong lá»›p, thÃ­ch báº¡o lá»±c, thÃ­ch thá»ƒ hiá»‡n gÃ¢y sá»± chÃº Ã½, thÆ°á»ng xuyÃªn bá»‹ kÃ­ch Ä‘á»™ng khÃ´ng kiá»m cháº¿ báº£n thÃ¢n, 
H thÆ°á»ng hÃ©t to trong giá» há»c má»—i khi khÃ´ng hÃ i lÃ²ng vá» báº¡n. H thÃ´ng minh, nhÆ°ng chÆ°a bao giá» cá»‘ gáº¯ng táº­p trung trong há»c táº­p, 
em lÃªn trÆ°á»ng chá»§ yáº¿u Ä‘á»ƒ vui chÆ¡i, quáº¥y rá»‘i báº¡n bÃ¨. Qua tÃ¬m hiá»ƒu thÃ¬ hoÃ n cáº£nh gia Ä‘Ã¬nh cá»§a em lÃ  máº¹ máº¥t cÃ¡ch Ä‘Ã¢y 3 nÄƒm, em sá»‘ng vá»›i cha, 
cha em thÆ°á»ng xuyÃªn váº¯ng nhÃ  do báº­n lo lÃ m Äƒn, cha khÃ´ng cÃ³ thá»i gian gáº§n gÅ©i, quan tÃ¢m em.

"""

# get the text chunks
text_chunks = get_text_chunks(raw_text)

# create vector store
#vectorstore = get_vectorstore(text_chunks)
vectorstore = FAISS.from_texts(texts=text_chunks, embedding=embeddings)

db = vectorstore.as_retriever(search_kwargs={'k': 1}) # láº¥y 1 tÃ i liá»‡u liÃªn quan nháº¥t
```
### BÆ°á»›c 4: Táº¡o há»‡ thá»‘ng truy xuáº¥t

```python
from langchain.chains import RetrievalQA, RetrievalQAWithSourcesChain
from langchain import PromptTemplate
import transformers
from langchain_huggingface import HuggingFacePipeline

template = prompt = """<|im_start|>system
Báº¡n lÃ  má»™t trá»£ lÃ­ AI há»¯u Ã­ch. HÃ£y tráº£ lá»i ngÆ°á»i dÃ¹ng má»™t cÃ¡ch chÃ­nh xÃ¡c.
<|im_end|>
<|im_start|>user
{context}<|im_end|>
<|im_start|>assistant"""


mistral_llm = HuggingFacePipeline(
    pipeline=pipeline(
        "text-generation",
        model=model,  
        tokenizer=tokenizer, 
        trust_remote_code=True,
        max_new_tokens=100,
        repetition_penalty=1.1
    )
)

prompt = PromptTemplate(template=template, input_variables=["context"]) 
qa_chain = RetrievalQA.from_llm(llm=mistral_llm,
                                retriever=db,
                                return_source_documents=True,
                                verbose=True,
                                prompt = prompt
)
```
```python
query = "Nguyá»…n VÄƒn H lÃ  ai?"

sol=qa_chain({"query": query})
sol
```

### Káº¿t quáº£



```
{'query': 'Nguyá»…n VÄƒn H lÃ  ai?',
 'result': '<|im_start|>system\nBáº¡n lÃ  má»™t trá»£ lÃ­ AI há»¯u Ã­ch. HÃ£y tráº£ lá»i ngÆ°á»i dÃ¹ng má»™t cÃ¡ch chÃ­nh xÃ¡c.\n<|im_end|>\n<|im_start|>user\nContext:\nEm Nguyá»…n VÄƒn H lÃ  há»c sinh cÃ¡ biá»‡t trong lá»›p, thÃ­ch báº¡o lá»±c, thÃ­ch thá»ƒ hiá»‡n gÃ¢y sá»± chÃº Ã½, thÆ°á»ng xuyÃªn bá»‹ kÃ­ch Ä‘á»™ng khÃ´ng kiá»m cháº¿ báº£n thÃ¢n, \nH thÆ°á»ng hÃ©t to trong giá» há»c má»—i khi khÃ´ng hÃ i lÃ²ng vá» báº¡n. H thÃ´ng minh, nhÆ°ng chÆ°a bao giá» cá»‘ gáº¯ng táº­p trung trong há»c táº­p, \nem lÃªn trÆ°á»ng chá»§ yáº¿u Ä‘á»ƒ vui chÆ¡i, quáº¥y rá»‘i báº¡n bÃ¨. Qua tÃ¬m hiá»ƒu thÃ¬ hoÃ n cáº£nh gia Ä‘Ã¬nh cá»§a em lÃ  máº¹ máº¥t cÃ¡ch Ä‘Ã¢y 3 nÄƒm, em sá»‘ng vá»›i cha, \ncha em thÆ°á»ng xuyÃªn váº¯ng nhÃ  do báº­n lo lÃ m Äƒn, cha khÃ´ng cÃ³ thá»i gian gáº§n gÅ©i, quan tÃ¢m em.<|im_end|>\n<|im_start|>assistant\nCÃ³ váº» nhÆ° em H Ä‘ang tráº£i qua má»™t sá»‘ váº¥n Ä‘á» cÃ¡ nhÃ¢n vÃ  cáº£m xÃºc. Sá»± thiáº¿u quan tÃ¢m tá»« cha vÃ  viá»‡c pháº£i Ä‘á»‘i máº·t vá»›i máº¥t mÃ¡t cá»§a máº¹ cÃ³ thá»ƒ gÃ³p pháº§n vÃ o hÃ nh vi hung dá»¯ vÃ  hÃ nh vi gÃ¢y háº¥n cá»§a em. Cha nÃªn Æ°u tiÃªn dÃ nh thá»i gian cháº¥t lÆ°á»£ng cho em báº±ng cÃ¡ch liÃªn láº¡c thÆ°á»ng xuyÃªn hÆ¡n vÃ  há»— trá»£ tinh tháº§n. NgoÃ i ra, cÃ¡c chuyÃªn gia sá»©c khá»e tÃ¢m tháº§n cÃ³ thá»ƒ giÃºp hÆ°á»›ng dáº«n em Ä‘áº¿n liá»‡u phÃ¡p hoáº·c cÃ¡c chÆ°Æ¡ng',
 'source_documents': [Document(id='2cf0a1af-0a4c-49ea-857b-941e9095365e', metadata={}, page_content='Em Nguyá»…n VÄƒn H lÃ  há»c sinh cÃ¡ biá»‡t trong lá»›p, thÃ­ch báº¡o lá»±c, thÃ­ch thá»ƒ hiá»‡n gÃ¢y sá»± chÃº Ã½, thÆ°á»ng xuyÃªn bá»‹ kÃ­ch Ä‘á»™ng khÃ´ng kiá»m cháº¿ báº£n thÃ¢n, \nH thÆ°á»ng hÃ©t to trong giá» há»c má»—i khi khÃ´ng hÃ i lÃ²ng vá» báº¡n. H thÃ´ng minh, nhÆ°ng chÆ°a bao giá» cá»‘ gáº¯ng táº­p trung trong há»c táº­p, \nem lÃªn trÆ°á»ng chá»§ yáº¿u Ä‘á»ƒ vui chÆ¡i, quáº¥y rá»‘i báº¡n bÃ¨. Qua tÃ¬m hiá»ƒu thÃ¬ hoÃ n cáº£nh gia Ä‘Ã¬nh cá»§a em lÃ  máº¹ máº¥t cÃ¡ch Ä‘Ã¢y 3 nÄƒm, em sá»‘ng vá»›i cha, \ncha em thÆ°á»ng xuyÃªn váº¯ng nhÃ  do báº­n lo lÃ m Äƒn, cha khÃ´ng cÃ³ thá»i gian gáº§n gÅ©i, quan tÃ¢m em.')]}
```
## TÃ i liá»‡u vÃ  nguá»“n tham kháº£o
[ProntX](https://protonx.coursemind.io/intro?lang=vi)
[MÃ¬ AI](https://github.com/thangnch/MiAI_Langchain_RAG)